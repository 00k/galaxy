"use strict";angular.module("console",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","galaxy.ui.treeview","ui.bootstrap","ui.bootstrap.demo"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl"}).when("/service/:serviceName",{templateUrl:"views/service.html",controller:"ServiceCtrl"}).when("/service/:serviceName/:subpage",{templateUrl:"views/service.html",controller:"ServiceCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("console").controller("MainCtrl",["$scope",function(a){a.nav={service:{name:"服务",href:"/#service/tera"}},a.breadcrumb="layout-nav-main",a.roleList1=[{roleName:"关于",roleId:"role1",nodestyle:["level1"],children:[]}],a.roleList1[0].children.length&&(a.navtree=a.navtree||{},a.roleList1[0].children[0].selected="selected",a.navtree.currentNode=a.roleList1[0].children[0])}]),angular.module("console").controller("AboutCtrl",["$scope",function(a){console.log("AboutCtrl "),a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("console").controller("ServiceCtrl",["$scope","$routeParams",function(){}]),angular.module("ui.bootstrap.demo",[]).controller("ModalDemoCtrl",["$scope","$modal","$log",function(a,b,c){a.items=["item1","item2","item3"],a.open=function(d){var e=b.open({templateUrl:"views/createService.html",controller:"ModalInstanceCtrl",keyboard:!1,size:d,resolve:{items:function(){return a.items}}});e.result.then(function(b){a.selected=b},function(){c.info("Modal dismissed at: "+new Date)})}}]),angular.module("ui.bootstrap.demo").controller("ModalInstanceCtrl",["$scope","$modalInstance","items",function(a,b,c){a.items=c,a.selected={item:a.items[0]},a.ok=function(){b.close(a.selected.item)},a.cancel=function(){b.dismiss("cancel")},a.step1style="glyphicon glyphicon-ok stepdone"}]),!function(a){a.module("galaxy.ui.treeview",[]).directive("navTree",["$compile","$rootScope","$location",function(b,c,d){var e=function(a,b){this.$scope=a,this.$location=b,this.homeNavSetting=[{nodeName:"关于",nodestyle:["level1"],children:[]}],this.serviceNavSetting=[{nodeName:"Tera",nodestyle:["level1"],children:[{nodestyle:["level2"],subpage:"info",nodeName:"服务信息",children:[]},{nodestyle:["level2"],subpage:"update",nodeName:"服务更新",children:[]},{nodestyle:["level2"],subpage:"instance",nodeName:"服务实例",children:[]}]}],this.processRouter={service:this._processServicePage}};return e.prototype.update=function(){var a=this._parsePath(this.$location.path());if(0==a.length)this.$scope.treeModel=this.homeNavSetting;else{var b=a[0];b in this.processRouter?this.processRouter[b](this,a):console.log("no processor")}},e.prototype._parsePath=function(b){if(!b)return[];var c=[];return a.forEach(b.split("/"),function(a){var b=a.trim();b&&this.push(b)},c),c},e.prototype._processServicePage=function(a,b){var c=0,d=0,e=b[1];if(b.length>=3){var f=b[2];for(var g in a.serviceNavSetting)for(var h in a.serviceNavSetting[g].children){var i=a.serviceNavSetting[g].children[h].subpage;i==f&&(c=g,d=h)}}a._cleanServiceNode(e),a._markActive(c,d),a.$scope.treeModel=a.serviceNavSetting},e.prototype._cleanServiceNode=function(a){for(var b in this.serviceNavSetting)for(var c in this.serviceNavSetting[b].children)this.serviceNavSetting[b].children[c].nodestyle=[this.serviceNavSetting[b].children[c].nodestyle[0]],this.serviceNavSetting[b].children[c].service=a},e.prototype._markActive=function(a,b){var c=this.serviceNavSetting[a].children[b].nodestyle[0];this.serviceNavSetting[a].children[b].nodestyle=[c,"selected"]},{restrict:"A",link:function(a,f,g){var h=g.treeModel,i=g.isRoot;if("true"==i){a.treeModel=[];var j=new e(a,d),k=c.$on("$routeChangeSuccess",function(){j.update()});h="treeModel",a.$on("$destroy",k)}var l='<dl><dt ng-repeat-start="node in '+h+'" ><a ng-if="node.subpage" ng-class="node.nodestyle" href="{{node.subpage}}" ><span  >{{node.nodeName}}</span></a><span ng-class="node.nodestyle"  ng-if="!node.subpage">{{node.nodeName}}</span></dt><dd ng-repeat-end><div nav-tree ng-if="node.children.length" ng-show="node.collapsed" tree-model="node.children" is-root="false" ng-hide="node.collapsed"></div></dd></dl>';f.html("").append(b(l)(a))}}}])}(angular);